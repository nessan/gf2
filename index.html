<!-- HTML header for doxygen 1.15.0-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
    <head>
        <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=11" />
        <meta name="generator" content="Doxygen 1.15.0" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>GF2++: Project Overview</title>
        <link href="tabs.css" rel="stylesheet" type="text/css" />
        <script type="text/javascript" src="jquery.js"></script>
        <script type="text/javascript" src="dynsections.js"></script>
        <script type="text/javascript" src="clipboard.js"></script>
        <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
 <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
 <script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  },
  loader: {
    load: ['[tex]/mathtools']
  },
  tex: {
    macros: {},
    packages: {
        '[+]': ['mathtools']
    }
  }
};
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@4/tex-chtml.js"></script>
        <link href="doxygen.css" rel="stylesheet" type="text/css" />
        <link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
        <!-- ... other metadata & script includes ... -->
        <script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
        <script type="text/javascript">
            DoxygenAwesomeDarkModeToggle.init();
        </script>
    </head>
    <body>
            <div id="top">
                <!-- do not remove this div, it is closed by doxygen! -->
                <div id="titlearea">
                    <table cellspacing="0" cellpadding="0">
                        <tbody>
                            <tr id="projectrow">
                                <td id="projectalign">
                                    <div id="projectname">
                                        GF2++
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!-- end header part -->
            </div>
        </div>
    </body>
</html>
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('index.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Project Overview </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_README"></a></p>
<p align="center"></p>
<p><img src="banner.svg" alt="" style="pointer-events: none;" class="inline"/></p>
<p>The <span class="tt"><a class="el" href="namespacegf2.html" title="The namespace for the gf2 library.">gf2</a></span> library focuses on efficient <em>numerical</em> work in <em>bit-space</em>, where mathematical entities such as vectors, matrices, and polynomial coefficients are limited to zeros and ones.</p>
<p>All arithmetic is carried out modulo 2, so what starts in bit-space stays in bit-space. Addition/subtraction becomes the <span class="tt">XOR</span> operation, and multiplication/division becomes the <span class="tt">AND</span> operation. The <span class="tt"><a class="el" href="namespacegf2.html" title="The namespace for the gf2 library.">gf2</a></span> library uses those equivalences to efficiently perform most operations by simultaneously operating on entire blocks of elements at a time.</p>
<p>Mathematicians refer to bit-space as <a href="https://en.wikipedia.org/wiki/GF(2)">GF(2)</a> or \(\mathbb{F}_2\). It is the simplest <a href="https://en.wikipedia.org/wiki/Galois_field">Galois Field</a> with just two elements, 0 and 1.</p>
<p>While computer hardware famously operates on bits, computers don't really provide <em>direct</em> access to <em>single</em> bits.</p>
<p>Instead, computers have memory registers for <em>words</em> where the smallest addressable unit is an eight-bit word, a <em>byte</em>. Other "native" word lengths vary by computer architecture, but 8, 16, 32, 64, and even 128-bit words are widely supported. Computers perform operations on and between those short word types optimally.</p>
<p>Computers have many primitive data types &mdash; bytes, characters, various-sized integers (positive or negative), and floating-point numbers with various degrees of precision. Blocks of zeros and ones are best modelled by the simplest <em>unsigned integer</em> primitive types.</p>
<p>In this library, we pack contiguous bit elements into arrays of one of those unsigned word types</p>
<p>For example, if we have a bit-vector of size 200, and the underlying word is a <span class="tt">std::uint64_t</span>, the bit elements will be packed into four words (a total of 256 bits), and there will be 56 bits of unused capacity. The library will efficiently perform almost all operations on that vector 64 bits at a time in an inherently parallel manner.</p>
<h1 class="doxsection"><a class="anchor" id="main-classes"></a>
Main Classes</h1>
<p>This header-only library provides the following main classes:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Class Name  </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="md_docs_2pages_2BitArray.html"><span class="tt">BitArray</span></a>  </td><td class="markdownTableBodyNone">A fixed-size vector of bits.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="md_docs_2pages_2BitVec.html"><span class="tt">BitVec</span></a>  </td><td class="markdownTableBodyNone">A dynamically-sized vector of bits.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="md_docs_2pages_2BitSpan.html"><span class="tt">BitSpan</span></a>  </td><td class="markdownTableBodyNone">A non-owning view into contiguous ranges of bits.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="md_docs_2pages_2BitPoly.html"><span class="tt">BitPoly</span></a>  </td><td class="markdownTableBodyNone">A polynomial over GF(2).  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="md_docs_2pages_2BitMat.html"><span class="tt">BitMat</span></a>  </td><td class="markdownTableBodyNone">A matrix over GF(2).  </td></tr>
</table>
<p>The <span class="tt">BitArray</span>, <span class="tt">BitVec</span>, and <span class="tt">BitSpan</span> classes share many methods, and all implement the <a class="el" href="md_docs_2pages_2BitStore.html"><span class="tt">BitStore</span></a> concept, which provides a rich interface for manipulating collections of bits. The functions include bit accessors, mutators, fills, queries, iterators, stringification methods, bit-wise operators, arithmetic operators, and more.</p>
<p>There are other classes to support linear algebra operations, such as solving systems of linear equations, finding matrix inverses, and computing eigenvalues and eigenvectors. Among other things, the interface includes methods for examining the eigen-structure of large bit matrices.</p>
<p>The <span class="tt">BitPoly</span> class has methods to compute \(x^N\bmod{p(x)}\) where \(p(x)\) is a polynomial over \(\mathbb{F}_2\) and \(N\) is a potentially huge integer.</p>
<p>The classes are efficient and pack the individual bit elements into natural unsigned word blocks. There is a rich interface for setting up and manipulating these classes, as well as allowing them to interact with each other.</p>
<dl class="section note"><dt>Note</dt><dd>Operations on and between objects in the <span class="tt"><a class="el" href="namespacegf2.html" title="The namespace for the gf2 library.">gf2</a></span> library are implemented using bitwise operations on whole underlying words at a time. This means we never have to worry about overflows or carries as we would with normal integer arithmetic. Moreover, these operations are highly optimised in modern CPUs, enabling fast computation even on large bit matrices and bit vectors.</dd></dl>
<h1 class="doxsection"><a class="anchor" id="a-simple-example"></a>
A Simple Example</h1>
<p>Here is a simple example of a program that uses <span class="tt"><a class="el" href="namespacegf2.html" title="The namespace for the gf2 library.">gf2</a></span>:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="namespace_8h.html">gf2/namespace.h</a>&gt;</span></div>
<div class="line"><span class="keywordtype">int</span> main()</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">auto</span> M = BitMat&lt;&gt;::random(6, 6);</div>
<div class="line">    <span class="keyword">auto</span> c = M.characteristic_polynomial();</div>
<div class="line">    std::println(<span class="stringliteral">&quot;The bit-matrix M:\n{}&quot;</span>, M);</div>
<div class="line">    std::println(<span class="stringliteral">&quot;has characteristic polynomial c(x) = {}&quot;</span>, c);</div>
<div class="line">    std::println(<span class="stringliteral">&quot;The polynomial sum c(M) is:&quot;</span>);</div>
<div class="line">    std::println(<span class="stringliteral">&quot;{}&quot;</span>, c(M));</div>
<div class="line">}</div>
<div class="ttc" id="anamespace_8h_html"><div class="ttname"><a href="namespace_8h.html">namespace.h</a></div><div class="ttdoc">An &quot;include everything&quot; header for the gf2 library that also exposes the namespace gf2.</div></div>
</div><!-- fragment --><ul>
<li>This program creates a random 6 x 6 bit-matrix <span class="tt">M</span> where the entries 0 and 1 are equally likely to occur.</li>
<li>It then extracts the characteristic polynomial \(c(x) = c_0 + c_1 x + c_2 x^2 + ... + c_6 x^6\).</li>
<li>Finally, it verifies that <span class="tt">M</span> satisfies its characteristic equation, \(c(M) = 0\) as expected from the <a href="https://en.wikipedia.org/wiki/Cayley%E2%80%93Hamilton_theorem">Cayley-Hamilton</a> theorem.</li>
</ul>
<p>Here is the output from one run of the program:</p>
<div class="fragment"><div class="line">The bit-matrix M:</div>
<div class="line">│0 1 1 0 0 0│</div>
<div class="line">│0 0 1 0 1 0│</div>
<div class="line">│1 1 0 0 0 1│</div>
<div class="line">│0 0 0 0 0 1│</div>
<div class="line">│0 1 0 0 1 1│</div>
<div class="line">│1 1 0 1 0 1│</div>
<div class="line">has characteristic polynomial c(x) = x^1 + x^4 + x^6.</div>
<div class="line">The polynomial sum c(M) gives:</div>
<div class="line">│0 0 0 0 0 0│</div>
<div class="line">│0 0 0 0 0 0│</div>
<div class="line">│0 0 0 0 0 0│</div>
<div class="line">│0 0 0 0 0 0│</div>
<div class="line">│0 0 0 0 0 0│</div>
<div class="line">│0 0 0 0 0 0│</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>The <span class="tt"><a class="el" href="namespacegf2.html" title="The namespace for the gf2 library.">gf2</a></span> library makes it possible to quickly extract the characteristic polynomial for a bit-matrix with millions of elements. This problem chokes a naive implementation that fails to account for the unique nature of arithmetic in GF(2).</dd></dl>
<h1 class="doxsection"><a class="anchor" id="use-cases"></a>
Use Cases</h1>
<p>The standard library already has <a href="https://en.cppreference.com/w/cpp/utility/bitset"><span class="tt">std::bitset</span></a>, an efficient <em>bitset</em> class that is familiar and well-thought-out, so our classes replicate and extend much of that interface.</p>
<p>All <span class="tt">std::bitset</span> objects have a fixed size determined at compile time. The well-known <em>Boost</em> library introduces a dynamic version <a href="https://www.boost.org/doc/libs/1_80_0/libs/dynamic_bitset/dynamic_bitset.html"><span class="tt">boost::dynamic_bitset</span></a> whose size can be set and changed at runtime.</p>
<p>However, as the two names suggest, these types are aimed at sets of bits instead of <em>vectors</em> of bits. So, for example, they print in <em>bit-order</em> with the least significant element/bit on the right. More importantly, those classes don't have any particular methods for linear algebra, and neither does the standard library's vector class, <span class="tt">std::vector</span>.</p>
<p>On the other hand, several well-known linear algebra libraries, such as <a href="https://eigen.tuxfamily.org/overview.php?title=Main_Page">Eigen</a>, exist. Those packages efficiently manage all the standard <em>numeric</em> types (floats, doubles, integers, etc.) but do not correctly handle GF(2). You can create matrices of integers whose elements are 0 or 1, but there is no built-in knowledge in those libraries that arithmetic is mod 2.</p>
<p>For example, you might use <span class="tt">Eigen</span> to create an integer matrix of all 0's and 1's and then use a built-in function from that library to extract the characteristic polynomial. Modding the coefficients of that polynomial by 2 gets the appropriate version for GF(2). Technically, this works, but you will have overflow problems for even relatively modest-sized matrices with just a few hundred rows and columns. Of course, you might use an underlying <span class="tt">BitInt</span> type that never overflows, but the calculations become dog slow for larger bit-matrices, which doesn't help much.</p>
<p>This specialised <span class="tt"><a class="el" href="namespacegf2.html" title="The namespace for the gf2 library.">gf2</a></span> library is better suited to linear algebra over GF(2). Consider it if, for example, your interest is in cryptography or random number generation.</p>
<h1 class="doxsection"><a class="anchor" id="installation"></a>
Installation</h1>
<p>This library is header-only, so there is nothing to compile and link. Drop the <span class="tt"><a class="el" href="namespacegf2.html" title="The namespace for the gf2 library.">gf2</a></span> include directory somewhere convenient, and you're good to go.</p>
<p>Alternatively, if you are using <span class="tt">CMake</span>, you can use the standard <span class="tt">FetchContent</span> module by adding a few lines to your project's <span class="tt">CMakeLists.txt</span> file:</p>
<div class="fragment"><div class="line">include(FetchContent)</div>
<div class="line">FetchContent_Declare(gf2 URL https://github.com/nessan/gf2/releases/download/current/gf2.zip)</div>
<div class="line">FetchContent_MakeAvailable(gf2)</div>
</div><!-- fragment --><p>This command downloads and unpacks an archive of the current version of the <span class="tt"><a class="el" href="namespacegf2.html" title="The namespace for the gf2 library.">gf2</a></span> library to your project's build folder. You can then add a dependency on <span class="tt">gf2::gf2</span>, a <span class="tt">CMake</span> alias for the <span class="tt"><a class="el" href="namespacegf2.html" title="The namespace for the gf2 library.">gf2</a></span> library. <span class="tt">FetchContent</span> will automatically ensure the build system knows where to find the downloaded header files and any needed compiler flags.</p>
<p>Used in this manner, FetchContent will only download a minimal library version, excluding redundant test code, sample programs, documentation files, and other unnecessary content.</p>
<h1 class="doxsection"><a class="anchor" id="rust-version"></a>
Rust Version</h1>
<p>A Rust version of this library is also available on <a href="https://crates.io/crates/gf2">crates.io,</a> and the source code is available on <a href="https://github.com/nessan/gf2_rs">GitHub</a>.</p>
<p>The C++ version predates the Rust crate. We ported to Rust <em>manually</em>, as, at least for now, LLMs cannot handle this sort of translation task and produce anything that is at all readable or verifiable.</p>
<p>As you might expect with a rewrite, the new version considerably improved on the original. There were two beneficial factors at play:</p>
<ul>
<li>We approached the problem anew, and fresh eyes quickly saw several areas for improvement that had nothing to do with the implementation language per se.</li>
<li>Other improvements came about <em>because</em> we were using a different language with its own idioms, strengths, and weaknesses that forced some new thinking.</li>
</ul>
<p>We rewrote the C++ version to incorporate those improvements and to backport some of the new ideas from using Rust.</p>
<p>Writing solutions to the same problem in multiple languages has significant benefits, but of course, it is expensive and hard to justify in commercial settings. Perhaps we should repeat the exercise in a third language someday!</p>
<p>For the most part, the two versions are feature equivalent (a few things are not possible in Rust). There are some name changes to accommodate idioms in the languages; for example, the BitSpan C++ class corresponds to the <span class="tt">BitSlice</span> type in Rust (C++ uses spans, Rust uses slices), C++ vectors have a <span class="tt">size()</span> method, Rust vectors have a <span class="tt">len()</span> method, and so on.</p>
<p>The two versions have very similar performance characteristics, with neither being significantly faster than the other in most scenarios.</p>
<h1 class="doxsection"><a class="anchor" id="useful-links"></a>
Useful Links</h1>
<p>Here are links to the project's <a href="https://github.com/nessan/gf2">repository</a> and <a href="https://nessan.github.io/gf2">documentation site</a></p>
<p>The project uses <a href="https://nessan.github.io/doxytest/">Doxytest</a>, a tool for generating C++ test programs from sample code embedded in header file comments.</p>
<p>You can contact me by <a href="#" onclick="location.href='mai'+'lto:'+'nzz'+'nf'+'itz'+'+g'+'h@i'+'cl'+'oud'+'.c'+'om'; return false;">email</a>.</p>
<h2 class="doxsection"><a class="anchor" id="copyright-and-license"></a>
Copyright and License</h2>
<p>Copyright (c) 2022-present Nessan Fitzmaurice. You can use this software under the <a href="https://opensource.org/license/mit">MIT license</a>. </p>
</div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"></a>
</div><!-- contents -->
</div><!-- doc-content -->
</div><!-- container -->
<!-- HTML footer for doxygen 1.15.0-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>
